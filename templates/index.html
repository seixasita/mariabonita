{% extends "base.html" %}

{% block content %}
<div class="container mt-4">

  <!-- Mensagem de sucesso -->
  {% if request.session.get("mensagem") %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      {{ request.session.mensagem }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fechar"></button>
    </div>
    {% set _ = request.session.update({'mensagem': None}) %}
  {% endif %}

  <h1>Bem-vindo à Fazenda Maria Bonita</h1>

  {% if user %}
    <p>Você está logado como <strong>{{ user.name }}</strong> (CPF: {{ user.cpf }})</p>
  {% else %}
    <p>Por favor, faça login ou cadastre-se para continuar.</p>

    <div class="d-flex flex-column gap-3 mt-4">
      <a href="/login" class="btn btn-success d-inline-flex align-items-center gap-2">
        <i class="bi bi-box-arrow-in-right"></i>
        Login
      </a>

      <a href="/cadastro" class="btn btn-outline-success d-inline-flex align-items-center gap-2">
        <i class="bi bi-person-plus"></i>
        Criar conta
      </a>
    </div>
  {% endif %}

</div>
{% endblock %}
